<div data-sly-test="${!properties.rootpath || !properties.rowsize}">
	Please configure the component correctly. <br>Required values:
	<ul>
		<li>Path</li>
		<li>Row size</li>
	</ul>
</div>

<div data-sly-test="${properties.rootpath && properties.rowsize}">
	<div data-sly-use.articlefeed="uk.ac.nhm.core.model.slingModels.ArticleFeed">
		<div class="articlefeed--title" data-sly-test="${properties.title}">
			<h2>${properties.title}</h2>
		</div>

		<div class="row">
			<div data-sly-test="${!articlefeed.pageList}">
				This query returns no results
			</div>
			<div data-sly-test="${articlefeed.pageList}">
				<ul data-sly-list.list="${articlefeed.pageList}"
					class="small-block-grid-1 medium-block-grid-2 large-block-grid-${articlefeed.columns}">
					<li data-sly-test="${list.size > 0}">
						<div class="articlefeed--item">
							<div class="articlefeed--item__image">
								<div data-sly-test="${list['imageType'] == 'image'}">
									<a href="${list['path']}.html">
										<img data-interchange="
											[${list['context']}.img.320.medium${list['extension']}, (default)],
											[${list['context']}.img.480.medium${list['extension']}, (only screen and (max-width: 480px))],
											[${list['context']}.img.620.high${list['extension']}, (only screen and (min-width: 481px))],
											[${list['context']}.img.320.medium${list['extension']}, (only screen and (min-width: 1025px))],">
									</a>
								</div>
								<div data-sly-test="${list['imageType'] == 'video'}">
									<a href="${list['path']}.html">
										<img src="${list['imagePath']}">
									</a>
								</div>
							</div>
							<div class="articlefeed--item__text">
								<p class="articlefeed--item__hubtag" data-sly-test="${list['hubtag']}">${list['hubtag']}</p>
								<p class="articlefeed--item__title">
									<a href="${list['path']}.html">${list['title']}</a>
								</p>
								<p class="articlefeed--item__date">${list['datepublished']}</p>
								<p class="articlefeed--item__excerpt">${list['excerpt']}</p>
							</div>
						</div>
					</li>
				</ul>
			</div>
		</div>
		<div class="articlefeed--read-more-link" data-sly-test="${properties.showreadmore && properties.readmorelink}">
			<a href="${articlefeed.readmorelink}">Read more</a>
		</div>
	</div>
</div>
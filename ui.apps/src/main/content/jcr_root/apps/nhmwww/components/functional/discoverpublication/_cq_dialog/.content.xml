<?xml version="1.0" encoding="UTF-8"?>
<jcr:root xmlns:sling="http://sling.apache.org/jcr/sling/1.0" xmlns:cq="http://www.day.com/jcr/cq/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:nt="http://www.jcp.org/jcr/nt/1.0"
    jcr:primaryType="nt:unstructured"
    jcr:title="Discover Publication Configuration"
    sling:resourceType="cq/gui/components/authoring/dialog"
    extraClientlibs="[cq.common.wcm,cq.siteadmin.admin.properties]">
    <content 
    	jcr:primaryType="nt:unstructured"
    	sling:resourceType="granite/ui/components/foundation/container">
		<layout
			jcr:primaryType="nt:unstructured"
			sling:resourceType="granite/ui/components/foundation/layouts/tabs"
			type="nav" />
		<items jcr:primaryType="nt:unstructured">
			<configurationtab
				jcr:primaryType="nt:unstructured"
				jcr:title="Configuration"
				sling:resourceType="granite/ui/components/foundation/section">
			<layout 
				jcr:primaryType="nt:unstructured" 
				margin="{Boolean}false"
				sling:resourceType="granite/ui/components/foundation/layouts/fixedcolumns" />
					<items jcr:primaryType="nt:unstructured">
						<column
							jcr:primaryType="nt:unstructured"
							sling:resourceType="granite/ui/components/foundation/container">
							<items jcr:primaryType="nt:unstructured">
			   					<title
			                    	jcr:primaryType="nt:unstructured"
			                    	fieldLabel="Title"
			                    	title="Title"
			                    	name="./jcr:title"
			                    	sling:resourceType="granite/ui/components/coral/foundation/form/textfield"/>  
		                    	<snippet
		                            jcr:primaryType="nt:unstructured"
		                            sling:resourceType="cq/gui/components/authoring/dialog/richtext"
		                            name="./snippet"
		                            fieldLabel="Snippet"
		                            useFixedInlineToolbar="{Boolean}true" >
		                            <rtePlugins jcr:primaryType="nt:unstructured">
		                                <paraformat
						        			jcr:primaryType="nt:unstructured"
						        			features="*">
						       				<formats jcr:primaryType="cq:WidgetCollection">
						       					<nhm2
						       						description="Heading 2"
						       						jcr:primaryType="nt:unstructured"
						       						tag="h2" />
					      						<nhm3
						       						description="Heading 3"
						       						jcr:primaryType="nt:unstructured"
						       						tag="h3" />
					      						<nhm4
						       						description="Heading 4"
						       						jcr:primaryType="nt:unstructured"
						       						tag="h4" />
					      						<nhm5
						       						description="Heading 5"
						       						jcr:primaryType="nt:unstructured"
						       						tag="h5" />
					      						<p
						       						description="Paragraph"
						       						jcr:primaryType="nt:unstructured"
						       						tag="p" />
						       				</formats>
						       			</paraformat>
						       			<subsuperscript
						       				jcr:primaryType="nt:unstructured"
						       				features="*" />
						 				<styles
						 					jcr:primaryType="nt:unstructured"
						 					features="*">
						 					<styles jcr:primaryType="cq:WidgetCollection">
						 						<headingBox
						 							jcr:primaryType="nt:unstructured"
						 							cssName="heading-box"
						 							text="Heading box" />
												<introText
													jcr:primaryType="nt:unstructured"
						 							cssName="intro-text"
						 							text="Intro text" />
						 					</styles>
										</styles>
										<links
											jcr:primaryType="nt:unstructured"
											features="[modifylink,unlink]" />
										<misctools
						       				jcr:primaryType="nt:unstructured"
						       				features="[specialchars]" >
						       				<specialCharsConfig jcr:primaryType="nt:unstructured">
		                                        <chars jcr:primaryType="nt:unstructured">
		                                            <copyright
		                                                jcr:primaryType="nt:unstructured"
		                                                entity="&amp;#169;"/>
		                                            <trademark
		                                                jcr:primaryType="nt:unstructured"
		                                                entity="&amp;#8482;"/>
		                                            <registered
		                                                jcr:primaryType="nt:unstructured"
		                                                entity="&amp;#174;"/>
		                                        </chars>
		                                    </specialCharsConfig>
						       			</misctools>
						      			<spellcheck
						       				jcr:primaryType="nt:unstructured"
						       				features="*" />
		                            </rtePlugins>
		                            <uiSettings jcr:primaryType="nt:unstructured">
		                                <cui jcr:primaryType="nt:unstructured">
		                                    <inline
		                                        jcr:primaryType="nt:unstructured"
		                                        toolbar="[format#bold,format#italic,format#underline,#justify,#lists,subsuperscript#subscript,subsuperscript#superscript,links#modifylink,links#unlink,spellcheck#checktext,misctools#specialchars,#styles,#paraformat]">
		                                        <popovers jcr:primaryType="nt:unstructured">
		                                            <justify
		                                                jcr:primaryType="nt:unstructured"
		                                                items="[justify#justifyleft,justify#justifycenter,justify#justifyright]"
		                                                ref="justify"/>
		                                            <lists
		                                                jcr:primaryType="nt:unstructured"
		                                                items="[lists#unordered,lists#ordered,lists#outdent,lists#indent]"
		                                                ref="lists"/>
		                                            <paraformat
		                                                jcr:primaryType="nt:unstructured"
		                                                items="paraformat:getFormats:paraformat-pulldown"
		                                                ref="paraformat"/>
		                                            <styles
		                                                jcr:primaryType="nt:unstructured"
		                                                items="styles:getStyles:styles-pulldown"
		                                                ref="styles"/>
		                                        </popovers>
		                                    </inline>
		                                </cui>
		                            </uiSettings>
		                        </snippet>									
								<pinned
									jcr:primaryType="nt:unstructured"
									fieldLabel="Pinned"
									name="./pinned"
									sling:resourceType="granite/ui/components/coral/foundation/form/checkbox"
									text="Pinned" />	<!-- TODO Listener and pinned date field-->	  	
		                    	<introduction
		                            jcr:primaryType="nt:unstructured"
		                            sling:resourceType="cq/gui/components/authoring/dialog/richtext"
		                            name="./introduction"
		                            fieldLabel="Introduction"
		                            useFixedInlineToolbar="{Boolean}true" >
		                            <rtePlugins jcr:primaryType="nt:unstructured">
		                                <paraformat
						        			jcr:primaryType="nt:unstructured"
						        			features="*">
						       				<formats jcr:primaryType="cq:WidgetCollection">
						       					<nhm2
						       						description="Heading 2"
						       						jcr:primaryType="nt:unstructured"
						       						tag="h2" />
					      						<nhm3
						       						description="Heading 3"
						       						jcr:primaryType="nt:unstructured"
						       						tag="h3" />
					      						<nhm4
						       						description="Heading 4"
						       						jcr:primaryType="nt:unstructured"
						       						tag="h4" />
					      						<nhm5
						       						description="Heading 5"
						       						jcr:primaryType="nt:unstructured"
						       						tag="h5" />
					      						<p
						       						description="Paragraph"
						       						jcr:primaryType="nt:unstructured"
						       						tag="p" />
						       				</formats>
						       			</paraformat>
						       			<subsuperscript
						       				jcr:primaryType="nt:unstructured"
						       				features="*" />
						 				<styles
						 					jcr:primaryType="nt:unstructured"
						 					features="*">
						 					<styles jcr:primaryType="cq:WidgetCollection">
						 						<headingBox
						 							jcr:primaryType="nt:unstructured"
						 							cssName="heading-box"
						 							text="Heading box" />
												<introText
													jcr:primaryType="nt:unstructured"
						 							cssName="intro-text"
						 							text="Intro text" />
						 					</styles>
										</styles>
										<links
											jcr:primaryType="nt:unstructured"
											features="[modifylink,unlink]" />
										<misctools
						       				jcr:primaryType="nt:unstructured"
						       				features="[specialchars]" >
						       				<specialCharsConfig jcr:primaryType="nt:unstructured">
		                                        <chars jcr:primaryType="nt:unstructured">
		                                            <copyright
		                                                jcr:primaryType="nt:unstructured"
		                                                entity="&amp;#169;"/>
		                                            <trademark
		                                                jcr:primaryType="nt:unstructured"
		                                                entity="&amp;#8482;"/>
		                                            <registered
		                                                jcr:primaryType="nt:unstructured"
		                                                entity="&amp;#174;"/>
		                                        </chars>
		                                    </specialCharsConfig>
						       			</misctools>
						      			<spellcheck
						       				jcr:primaryType="nt:unstructured"
						       				features="*" />
		                            </rtePlugins>
		                            <uiSettings jcr:primaryType="nt:unstructured">
		                                <cui jcr:primaryType="nt:unstructured">
		                                    <inline
		                                        jcr:primaryType="nt:unstructured"
		                                        toolbar="[format#bold,format#italic,format#underline,#justify,#lists,subsuperscript#subscript,subsuperscript#superscript,links#modifylink,links#unlink,spellcheck#checktext,misctools#specialchars,#styles,#paraformat]">
		                                        <popovers jcr:primaryType="nt:unstructured">
		                                            <justify
		                                                jcr:primaryType="nt:unstructured"
		                                                items="[justify#justifyleft,justify#justifycenter,justify#justifyright]"
		                                                ref="justify"/>
		                                            <lists
		                                                jcr:primaryType="nt:unstructured"
		                                                items="[lists#unordered,lists#ordered,lists#outdent,lists#indent]"
		                                                ref="lists"/>
		                                            <paraformat
		                                                jcr:primaryType="nt:unstructured"
		                                                items="paraformat:getFormats:paraformat-pulldown"
		                                                ref="paraformat"/>
		                                            <styles
		                                                jcr:primaryType="nt:unstructured"
		                                                items="styles:getStyles:styles-pulldown"
		                                                ref="styles"/>
		                                        </popovers>
		                                    </inline>
		                                </cui>
		                            </uiSettings>
		                        </introduction>   						
								<itemtype
			                       jcr:primaryType="nt:unstructured"
			                       fieldLabel="Item Type"
			                       name="./type"
			                       sling:resourceType="granite/ui/components/coral/foundation/form/select"
			                       value="Image" >	
			                       <items jcr:primaryType="nt:unstructured">
			                            <feature
			                                jcr:primaryType="nt:unstructured"
			                                text="Feature"
			                                value="feature"/>
			                            <image
			                                jcr:primaryType="nt:unstructured"
			                                text="Image"
			                                value="image"
			                                selected="{Boolean}true"/>
			                            <video
			                                jcr:primaryType="nt:unstructured"
			                                text="Video"
			                                value="video"/>
			                            <slideshow
			                                jcr:primaryType="nt:unstructured"
			                                text="Slideshow"
			                                value="slideshow"/>
			                            <news
			                                jcr:primaryType="nt:unstructured"
			                                text="News"
			                                value="news"/>
			                            <blog
			                                jcr:primaryType="nt:unstructured"
			                                text="Blog"
			                                value="blog"/>
			                            <podcast
			                                jcr:primaryType="nt:unstructured"
			                                text="Podcast"
			                                value="podcast"/>
			                            <scientist
			                                jcr:primaryType="nt:unstructured"
			                                text="Scientist"
			                                value="scientist"/>
			                            <interactive
			                                jcr:primaryType="nt:unstructured"
			                                text="Interactive"
			                                value="interactive"/>
			                            <infographic
			                                jcr:primaryType="nt:unstructured"
			                                text="Infographic"
			                                value="infographic"/>
			                            <audio
			                                jcr:primaryType="nt:unstructured"
			                                text="Audio"
			                                value="audio"/>
			                            <quiz
			                                jcr:primaryType="nt:unstructured"
			                                text="Quiz"
			                                value="quiz"/>
			                            <factfile
			                                jcr:primaryType="nt:unstructured"
			                                text="Fact File"
			                                value="factfile"/>
			                            <audioslideshow
			                                jcr:primaryType="nt:unstructured"
			                                text="Audio Slideshow"
			                                value="audioslideshow"/>
			                            <game
			                                jcr:primaryType="nt:unstructured"
			                                text="Game"
			                                value="game"/>
							      	</items>
								</itemtype>		
								<tags
			                        jcr:primaryType="nt:unstructured"
			                        fieldLabel="Tags"
			                        name="./cq:tags"
			                        sling:resourceType="cq/gui/components/common/tagspicker"
			                        allowBulkEdit="{Boolean}true"
			                        cq-msm-lockable="cq:tags"
			                        cq:showOnCreate="{Boolean}true"
			                        renderReadOnly="{Boolean}true" />
			   					<imagealt
			                    	jcr:primaryType="nt:unstructured"
			                    	fieldLabel="Image Alt Text"
			                    	title="Image Alt Text"
			                    	name="./image/alt"
			                    	sling:resourceType="granite/ui/components/coral/foundation/form/textfield"/>  			
								<imagecaption
		                            jcr:primaryType="nt:unstructured"
		                            sling:resourceType="cq/gui/components/authoring/dialog/richtext"
		                            name="./imageCaption"
		                            fieldLabel="Image Caption"
		                            useFixedInlineToolbar="{Boolean}true" >
		                            <rtePlugins jcr:primaryType="nt:unstructured">
		                                <paraformat
						        			jcr:primaryType="nt:unstructured"
						        			features="*">
						       				<formats jcr:primaryType="cq:WidgetCollection">
						       					<nhm2
						       						description="Heading 2"
						       						jcr:primaryType="nt:unstructured"
						       						tag="h2" />
					      						<nhm3
						       						description="Heading 3"
						       						jcr:primaryType="nt:unstructured"
						       						tag="h3" />
					      						<nhm4
						       						description="Heading 4"
						       						jcr:primaryType="nt:unstructured"
						       						tag="h4" />
					      						<nhm5
						       						description="Heading 5"
						       						jcr:primaryType="nt:unstructured"
						       						tag="h5" />
					      						<p
						       						description="Paragraph"
						       						jcr:primaryType="nt:unstructured"
						       						tag="p" />
						       				</formats>
						       			</paraformat>
						       			<subsuperscript
						       				jcr:primaryType="nt:unstructured"
						       				features="*" />
						 				<styles
						 					jcr:primaryType="nt:unstructured"
						 					features="*">
						 					<styles jcr:primaryType="cq:WidgetCollection">
						 						<headingBox
						 							jcr:primaryType="nt:unstructured"
						 							cssName="heading-box"
						 							text="Heading box" />
												<introText
													jcr:primaryType="nt:unstructured"
						 							cssName="intro-text"
						 							text="Intro text" />
						 					</styles>
										</styles>
										<links
											jcr:primaryType="nt:unstructured"
											features="[modifylink,unlink]" />
										<misctools
						       				jcr:primaryType="nt:unstructured"
						       				features="[specialchars]" >
						       				<specialCharsConfig jcr:primaryType="nt:unstructured">
		                                        <chars jcr:primaryType="nt:unstructured">
		                                            <copyright
		                                                jcr:primaryType="nt:unstructured"
		                                                entity="&amp;#169;"/>
		                                            <trademark
		                                                jcr:primaryType="nt:unstructured"
		                                                entity="&amp;#8482;"/>
		                                            <registered
		                                                jcr:primaryType="nt:unstructured"
		                                                entity="&amp;#174;"/>
		                                        </chars>
		                                    </specialCharsConfig>
						       			</misctools>
						      			<spellcheck
						       				jcr:primaryType="nt:unstructured"
						       				features="*" />
		                            </rtePlugins>
		                            <uiSettings jcr:primaryType="nt:unstructured">
		                                <cui jcr:primaryType="nt:unstructured">
		                                    <inline
		                                        jcr:primaryType="nt:unstructured"
		                                        toolbar="[format#bold,format#italic,format#underline,#justify,#lists,subsuperscript#subscript,subsuperscript#superscript,links#modifylink,links#unlink,spellcheck#checktext,misctools#specialchars,#styles,#paraformat]">
		                                        <popovers jcr:primaryType="nt:unstructured">
		                                            <justify
		                                                jcr:primaryType="nt:unstructured"
		                                                items="[justify#justifyleft,justify#justifycenter,justify#justifyright]"
		                                                ref="justify"/>
		                                            <lists
		                                                jcr:primaryType="nt:unstructured"
		                                                items="[lists#unordered,lists#ordered,lists#outdent,lists#indent]"
		                                                ref="lists"/>
		                                            <paraformat
		                                                jcr:primaryType="nt:unstructured"
		                                                items="paraformat:getFormats:paraformat-pulldown"
		                                                ref="paraformat"/>
		                                            <styles
		                                                jcr:primaryType="nt:unstructured"
		                                                items="styles:getStyles:styles-pulldown"
		                                                ref="styles"/>
		                                        </popovers>
		                                    </inline>
		                                </cui>
		                            </uiSettings>
	                        	</imagecaption>
								<headtype
									jcr:primaryType="nt:unstructured"
									fieldLabel="Item Type"
									name="./headType"
									sling:resourceType="granite/ui/components/foundation/form/radiogroup"
									value="imagetabcontainer" 
									class="cq-dialog-radiogroup-showhide">	
		                           	<items jcr:primaryType="nt:unstructured">
										<image
			                                jcr:primaryType="nt:unstructured"
			                                text="Image"
			                                value="image"
			                                sling:resourceType="granite/ui/components/foundation/form/radio/"
			                                class="cq-dialog-radio-showhide"
			                                show-hide-target="imagetabcontainer" />
										<video
											jcr:primaryType="nt:unstructured"
											text="Video"
											value="video"
											sling:resourceType="granite/ui/components/foundation/form/radio/"
											class="cq-dialog-radio-showhide"
											show-hide-target="videotabcontainer" />
									</items>
								</headtype>
							</items>
       					</column>
           			</items>
        	</configurationtab>
         	<imagetabcontainer jcr:primaryType="nt:unstructured"
				sling:resourceType="granite/ui/components/foundation/container"
				jcr:title="Image"
				class="cq-dialog-container-showhide"
				id="imagetabcontainer" >
				<items jcr:primaryType="nt:unstructured">
					<imagetab
						jcr:primaryType="nt:unstructured"
						sling:resourceType="granite/ui/components/foundation/section">
						<layout 
							jcr:primaryType="nt:unstructured" 
							margin="{Boolean}false"
							sling:resourceType="granite/ui/components/foundation/layouts/fixedcolumns" />
	   					<items jcr:primaryType="nt:unstructured">
							<column
								jcr:primaryType="nt:unstructured"
								sling:resourceType="granite/ui/components/foundation/container">
									<items jcr:primaryType="nt:unstructured">
										<image
											jcr:primaryType="nt:unstructured"
											autoStart="{Boolean}false"
											class="cq-droptarget"
											fieldNameParameter="./image/fileName"
											fileReferenceParameter="./image/fileReference"
											mimeTypes="[image]"
											multiple="{Boolean}false"
											name="./image/file"
											sling:resourceType="cq/gui/components/authoring/dialog/fileupload"
											title="Image"
											uploadUrl="${suffix.path}"
											useHTML5="{Boolean}true" />
								</items>
	       					</column>
	           			</items>
		        	</imagetab>
	        	</items>
        	</imagetabcontainer>
         	<videotabcontainer jcr:primaryType="nt:unstructured"
				sling:resourceType="granite/ui/components/foundation/container"
				jcr:title="Video"
				class="cq-dialog-container-showhide"
				id="videotabcontainer" >
				<items jcr:primaryType="nt:unstructured">
		        	<videotab jcr:primaryType="nt:unstructured"
						jcr:title="Video"
						sling:resourceType="granite/ui/components/foundation/section">
						<layout 
							jcr:primaryType="nt:unstructured" 
							margin="{Boolean}false"
							sling:resourceType="granite/ui/components/foundation/layouts/fixedcolumns" />
			   			<items jcr:primaryType="nt:unstructured">
			   				<column
								jcr:primaryType="nt:unstructured"
								sling:resourceType="granite/ui/components/foundation/container">
								<items jcr:primaryType="nt:unstructured">
									<video
				                        jcr:primaryType="nt:unstructured"
				                        fieldDescription="ID for a YouTube video"
				                        fieldLabel="Video"
				                        name="./video/youtube"
				                        sling:resourceType="granite/ui/components/coral/foundation/form/textfield" />
			        			</items>
			        		</column>
		        		</items>
		        	</videotab>
	        	</items>
        	</videotabcontainer>
			<metatab
				jcr:primaryType="nt:unstructured"
				jcr:title="Metadata"
				sling:resourceType="granite/ui/components/foundation/section">
				<layout 
					jcr:primaryType="nt:unstructured" 
					margin="{Boolean}false"
					sling:resourceType="granite/ui/components/foundation/layouts/fixedcolumns" />
   				<items jcr:primaryType="nt:unstructured">
   					<column
						jcr:primaryType="nt:unstructured"
						sling:resourceType="granite/ui/components/foundation/container">
						<items jcr:primaryType="nt:unstructured">
							<datepublished
								jcr:primaryType="nt:unstructured"
								displayedFormat="MM-DD-YYYY"
								sling:resourceType="granite/ui/components/coral/foundation/form/datepicker"
								type="date"
								fieldLabel="Date published"
								name="./datepublished"
								type="date"/>
							<datelastupdated
								jcr:primaryType="nt:unstructured"
								displayedFormat="MM-DD-YYYY"
								sling:resourceType="granite/ui/components/coral/foundation/form/datepicker"
								type="date"
								fieldLabel="Date last updated"
								name="./datelastupdated"
								type="date"/>
						</items>
       				</column>
     			</items>
			</metatab>
		</items>
	</content>
</jcr:root>
